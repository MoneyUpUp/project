<template>
  <div class="home-view" ref="homeViewRef">
    <section id="section-carousel" class="full-screen-section hero-section">
      <div id="carouselExampleSlidesOnly" class="carousel slide" data-bs-ride="carousel">
        <!-- ğŸ”˜ ì¸ë””ì¼€ì´í„° ë²„íŠ¼ -->
        <div class="carousel-indicators">
          <button v-for="(image, idx) in images" :key="'indicator-' + idx" type="button"
            data-bs-target="#carouselExampleSlidesOnly" :data-bs-slide-to="idx" :class="{ active: idx === 0 }"
            :aria-current="idx === 0 ? 'true' : null" :aria-label="'Slide ' + (idx + 1)">
          </button>
        </div>

        <!-- ğŸ–¼ï¸ ìŠ¬ë¼ì´ë“œ ì´ë¯¸ì§€ -->
        <div class="carousel-inner">
          <div v-for="(image, idx) in images" :key="'slide-' + idx" :class="['carousel-item', { active: idx === 0 }]">
            <img :src="image" class="d-block w-100 carousel-img" alt="..." />
          </div>
        </div>
      </div>
    </section>

    <section id="section-features" class="full-screen-section features-section">
      <h2>ì£¼ìš” ì„œë¹„ìŠ¤</h2>
      <div class="features-grid">
        <div class="feature-item">
          <img src="@/assets/icon/searchicon.png" alt="ê¸ˆìœµ ìƒí’ˆ" class="feature-icon" />
          <h3>ê¸ˆìœµ ìƒí’ˆ ì¶”ì²œ</h3>
          <p>ë‚˜ì—ê²Œ ë”± ë§ëŠ” ì˜ˆê¸ˆ, ì ê¸ˆ, ëŒ€ì¶œ ìƒí’ˆì„ ì°¾ì•„ë³´ì„¸ìš”.</p>
        </div>
        <div class="feature-item">
          <img src="@/assets/icon/basicprofile.png" alt="ìì‚° ê´€ë¦¬" class="feature-icon" />
          <h3>ìì‚° ê´€ë¦¬</h3>
          <p>ë‚˜ì˜ ìì‚°ì„ í•œëˆˆì— í™•ì¸í•˜ê³  íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•˜ì„¸ìš”.</p>
        </div>
        <div class="feature-item">
          <img src="@/assets/images/chatbots/default.png" alt="ì±—ë´‡ ìƒë‹´" class="feature-icon" />
          <h3>AI ì±—ë´‡ ìƒë‹´</h3>
          <p>ê¶ê¸ˆí•œ ê¸ˆìœµ ì •ë³´ë¥¼ AI ì±—ë´‡ì—ê²Œ ë¬¼ì–´ë³´ì„¸ìš”.</p>
        </div>
        <div class="feature-item">
          <img src="@/assets/icon/something.png" alt="ì»¤ë®¤ë‹ˆí‹°" class="feature-icon" />
          <h3>ì»¤ë®¤ë‹ˆí‹°</h3>
          <p>ë‹¤ì–‘í•œ ê¸ˆìœµ ì •ë³´ë¥¼ ê³µìœ í•˜ê³  ì†Œí†µí•˜ì„¸ìš”.</p>
        </div>
      </div>
    </section>

    <section id="section-articles" class="full-screen-section latest-articles-section">
      <h2>ìµœì‹  ê¸ˆìœµ ë‰´ìŠ¤ & ê²Œì‹œê¸€</h2>
      <div class="articles-grid">
        <!-- ì˜ˆì‹œ ê²Œì‹œê¸€ ì•„ì´í…œ -->
        <div class="article-card">
          <h3>2024ë…„ ê²½ì œ ì „ë§: íˆ¬ì ì „ëµì€?</h3>
          <p>ì „ë¬¸ê°€ë“¤ì´ ì˜ˆì¸¡í•˜ëŠ” 2024ë…„ ê²½ì œ ë™í–¥ê³¼ íˆ¬ì íŒì„ í™•ì¸í•˜ì„¸ìš”.</p>
          <a href="#" class="read-more">ë” ë³´ê¸°</a>
        </div>
        <div class="article-card">
          <h3>ì²­ë…„ë“¤ì„ ìœ„í•œ ì£¼íƒ êµ¬ë§¤ ê°€ì´ë“œ</h3>
          <p>ìƒì•  ì²« ì£¼íƒ êµ¬ë§¤ë¥¼ ìœ„í•œ ëŒ€ì¶œ ìƒí’ˆê³¼ ì§€ì› ì œë„ë¥¼ ì•Œì•„ë³´ì„¸ìš”.</p>
          <a href="#" class="read-more">ë” ë³´ê¸°</a>
        </div>
        <div class="article-card">
          <h3>ì€í‡´ í›„ ì•ˆì •ì ì¸ ì‚¶ì„ ìœ„í•œ ì—°ê¸ˆ ê³„íš</h3>
          <p>ë¯¸ë˜ë¥¼ ìœ„í•œ í˜„ëª…í•œ ì—°ê¸ˆ ìƒí’ˆ ì„ íƒê³¼ ì¬ì • ê³„íšì„ ì„¸ìš°ì„¸ìš”.</p>
          <a href="#" class="read-more">ë” ë³´ê¸°</a>
        </div>
      </div>
    </section>

    <footer id="section-footer" class="full-screen-section app-footer">
      <div class="footer-content">
        <p>&copy; 2024 MoneyUp. All rights reserved.</p>
        <p>ë¬¸ì˜: support@moneyup.com | ì „í™”: 02-1234-5678</p>
        <p>ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123</p>
      </div>
    </footer>
  </div>
</template>

<script setup>
import { ref, onMounted, onBeforeUnmount } from 'vue'
import img1 from '@/assets/banner1.png'
import img2 from '@/assets/banner2.png'

const images = [img1, img2]
const homeViewRef = ref(null)
const sections = ref([])
const currentSectionIndex = ref(0)
let isScrolling = false

const scrollToSection = (index) => {
  if (index >= 0 && index < sections.value.length) {
    isScrolling = true
    sections.value[index].scrollIntoView({ behavior: 'smooth' })
    currentSectionIndex.value = index
    setTimeout(() => {
      isScrolling = false
    }, 1000) // ìŠ¤í¬ë¡¤ ì• ë‹ˆë©”ì´ì…˜ ì‹œê°„ì— ë§ì¶° ì¡°ì ˆ
  }
}

const handleWheel = (event) => {
  if (isScrolling) return

  event.preventDefault() // ê¸°ë³¸ ìŠ¤í¬ë¡¤ ë™ì‘ ë°©ì§€

  if (event.deltaY > 0) {
    // ì•„ë˜ë¡œ ìŠ¤í¬ë¡¤
    if (currentSectionIndex.value < sections.value.length - 1) {
      scrollToSection(currentSectionIndex.value + 1)
    }
  } else {
    // ìœ„ë¡œ ìŠ¤í¬ë¡¤
    if (currentSectionIndex.value > 0) {
      scrollToSection(currentSectionIndex.value - 1)
    }
  }
}

onMounted(() => {
  sections.value = [
    document.getElementById('section-carousel'),
    document.getElementById('section-features'),
    document.getElementById('section-articles'),
    document.getElementById('section-footer')
  ].filter(Boolean) // null ê°’ í•„í„°ë§

  if (homeViewRef.value) {
    homeViewRef.value.addEventListener('wheel', handleWheel, { passive: false })
  }
})

onBeforeUnmount(() => {
  if (homeViewRef.value) {
    homeViewRef.value.removeEventListener('wheel', handleWheel)
  }
})
</script>

<style scoped>
html, body {
  overflow: hidden; /* ì „ì²´ í˜ì´ì§€ ìŠ¤í¬ë¡¤ ë°©ì§€ */
}

.home-view {
  display: flex;
  flex-direction: column;
  background-color: #f8f9fa;
  overflow-y: scroll; /* ì„¹ì…˜ ìŠ¤í¬ë¡¤ì„ ìœ„í•œ ìŠ¤í¬ë¡¤ë°” */
  scroll-snap-type: y mandatory; /* ìŠ¤í¬ë¡¤ ìŠ¤ëƒ… ì ìš© */
  height: calc(100vh - 60px); /* ë‚´ë¹„ê²Œì´ì…˜ ë°” ë†’ì´ ì œì™¸ */
  margin-top: 60px; /* ë‚´ë¹„ê²Œì´ì…˜ ë°” ì•„ë˜ë¡œ ì´ë™ */
  position: relative; /* ì¶”ê°€: ìŠ¤í¬ë¡¤ ì»¨í…Œì´ë„ˆë¡œì„œì˜ ì—­í•  ëª…í™•íˆ */
}

.full-screen-section {
  height: 100%; /* ë¶€ëª¨ ìš”ì†Œì˜ ë†’ì´ë¥¼ ìƒì†ë°›ë„ë¡ ë³€ê²½ */
  width: 100vw; /* ë·°í¬íŠ¸ ë„ˆë¹„ ê½‰ ì±„ìš°ê¸° */
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  scroll-snap-align: start; /* ìŠ¤í¬ë¡¤ ìŠ¤ëƒ… ì‹œì‘ ì§€ì  */
  flex-shrink: 0; /* ì„¹ì…˜ì´ ì¤„ì–´ë“¤ì§€ ì•Šë„ë¡ ë°©ì§€ */
  position: relative; /* ìì‹ ìš”ì†Œì˜ absolute í¬ì§€ì…”ë‹ì„ ìœ„í•´ */
  overflow: hidden; /* ë‚´ìš©ì´ ë„˜ì¹  ê²½ìš° ìˆ¨ê¹€ */
}

.hero-section {
  background-color: #f8f9fa; /* ìºëŸ¬ì…€ ë°°ê²½ìƒ‰ */
  margin-bottom: 0; /* ê¸°ì¡´ ë§ˆì§„ ì œê±° */
  padding-top: 0; /* HomeViewì— margin-topì„ ì£¼ë¯€ë¡œ ì—¬ê¸°ì„œëŠ” ì œê±° */
}

.carousel-img {
  height: 100%; /* ë¶€ëª¨ ìš”ì†Œì˜ ë†’ì´ë¥¼ ìƒì†ë°›ë„ë¡ ë³€ê²½ */
  object-fit: cover;
}

.carousel-inner {
  height: 100%; /* ìºëŸ¬ì…€ ë‚´ë¶€ ë†’ì´ ê½‰ ì±„ìš°ê¸° */
}

.carousel-item {
  height: 100%; /* ìºëŸ¬ì…€ ì•„ì´í…œ ë†’ì´ ê½‰ ì±„ìš°ê¸° */
}

.carousel-indicators {
  position: absolute;
  bottom: 20px; /* í•˜ë‹¨ì— ìœ„ì¹˜ */
  z-index: 15;
}

.carousel-indicators [data-bs-target] {
  background-color: #43B883;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  margin: 0 5px;
  border: 0; /* ê¸°ë³¸ í…Œë‘ë¦¬ ì œê±° */
  opacity: 0.5;
  transition: opacity 0.6s ease;
}

.carousel-indicators .active {
  opacity: 1;
}

/* ê¸°ì¡´ hero-text-overlayëŠ” Toss ìŠ¤íƒ€ì¼ê³¼ ë§ì§€ ì•Šì•„ ì œê±° */
/* .hero-text-overlay { ... } */

.features-section,
.latest-articles-section {
  background-color: #ffffff;
  padding: 2rem;
  border-radius: 0; /* ì „ì²´ í™”ë©´ ì„¹ì…˜ì´ë¯€ë¡œ ë‘¥ê·¼ ëª¨ì„œë¦¬ ì œê±° */
  box-shadow: none; /* ê·¸ë¦¼ì ì œê±° */
  margin-bottom: 0; /* ê¸°ì¡´ ë§ˆì§„ ì œê±° */
  text-align: center;
  justify-content: flex-start; /* ë‚´ìš©ì„ ìƒë‹¨ì— ì •ë ¬ */
  padding-top: 5vh; /* ìƒë‹¨ ì—¬ë°± ì¶”ê°€ */
}

.features-section h2,
.latest-articles-section h2 {
  color: #333;
  margin-bottom: 1.5rem;
  font-size: 2.5rem; /* ì œëª© í¬ê¸° í‚¤ì›€ */
}

.features-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); /* ì•„ì´í…œ í¬ê¸° ì¡°ì • */
  gap: 2rem; /* ê°„ê²© ì¡°ì • */
  margin-top: 1.5rem;
  max-width: 1200px; /* ìµœëŒ€ ë„ˆë¹„ ì„¤ì • */
  width: 90%; /* ë°˜ì‘í˜• ë„ˆë¹„ */
}

.feature-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 1.5rem; /* íŒ¨ë”© ì¡°ì • */
  border: none; /* í…Œë‘ë¦¬ ì œê±° */
  border-radius: 8px;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  background-color: #f8f9fa; /* ë°°ê²½ìƒ‰ ì¶”ê°€ */
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08); /* ê·¸ë¦¼ì ì¶”ê°€ */
}

.feature-item:hover {
  transform: translateY(-8px); /* í˜¸ë²„ íš¨ê³¼ ê°•í™” */
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15); /* í˜¸ë²„ ê·¸ë¦¼ì ê°•í™” */
}

.feature-icon {
  width: 80px; /* ì•„ì´ì½˜ í¬ê¸° í‚¤ì›€ */
  height: 80px;
  margin-bottom: 1.2rem;
  object-fit: contain;
}

.feature-item h3 {
  font-size: 1.5rem; /* ì œëª© í¬ê¸° í‚¤ì›€ */
  color: #43B883;
  margin-bottom: 0.8rem;
}

.feature-item p {
  font-size: 1rem; /* í…ìŠ¤íŠ¸ í¬ê¸° í‚¤ì›€ */
  color: #666;
  text-align: center;
}

.articles-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); /* ì•„ì´í…œ í¬ê¸° ì¡°ì • */
  gap: 2rem; /* ê°„ê²© ì¡°ì • */
  margin-top: 1.5rem;
  max-width: 1200px; /* ìµœëŒ€ ë„ˆë¹„ ì„¤ì • */
  width: 90%; /* ë°˜ì‘í˜• ë„ˆë¹„ */
}

.article-card {
  background-color: #f8f9fa;
  padding: 2rem; /* íŒ¨ë”© ì¡°ì • */
  border-radius: 8px;
  text-align: left;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08); /* ê·¸ë¦¼ì ì¶”ê°€ */
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.article-card:hover {
  transform: translateY(-8px);
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
}

.article-card h3 {
  font-size: 1.3rem; /* ì œëª© í¬ê¸° í‚¤ì›€ */
  color: #333;
  margin-bottom: 0.8rem;
}

.article-card p {
  font-size: 0.95rem; /* í…ìŠ¤íŠ¸ í¬ê¸° í‚¤ì›€ */
  color: #777;
  margin-bottom: 1.2rem;
}

.read-more {
  color: #43B883;
  text-decoration: none;
  font-weight: bold;
  font-size: 1rem; /* í…ìŠ¤íŠ¸ í¬ê¸° í‚¤ì›€ */
}

.read-more:hover {
  text-decoration: underline;
}

.app-footer {
  background-color: #43B883;
  color: white;
  padding: 2rem 1rem;
  text-align: center;
  width: 100%;
  margin-top: 0; /* ê¸°ì¡´ ë§ˆì§„ ì œê±° */
}

.footer-content p {
  margin: 0.5rem 0;
  font-size: 1rem; /* í…ìŠ¤íŠ¸ í¬ê¸° í‚¤ì›€ */
}

/* Responsive adjustments */
@media (max-width: 992px) {
  .features-section h2,
  .latest-articles-section h2 {
    font-size: 2.2rem;
  }
  .feature-icon {
    width: 70px;
    height: 70px;
  }
  .feature-item h3 {
    font-size: 1.3rem;
  }
  .feature-item p {
    font-size: 0.9rem;
  }
  .article-card h3 {
    font-size: 1.2rem;
  }
  .article-card p {
    font-size: 0.9rem;
  }
}

@media (max-width: 768px) {
  .features-section h2,
  .latest-articles-section h2 {
    font-size: 2rem;
  }
  .features-grid,
  .articles-grid {
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
    width: 95%;
  }
  .feature-icon {
    width: 60px;
    height: 60px;
  }
  .feature-item h3 {
    font-size: 1.2rem;
  }
  .feature-item p {
    font-size: 0.85rem;
  }
  .article-card h3 {
    font-size: 1.1rem;
  }
  .article-card p {
    font-size: 0.8rem;
  }
  .app-footer {
    padding: 1.5rem 0.5rem;
  }
}

@media (max-width: 480px) {
  .features-section h2,
  .latest-articles-section h2 {
    font-size: 1.8rem;
  }
  .features-grid,
  .articles-grid {
    grid-template-columns: 1fr; /* Stack items on very small screens */
    width: 95%;
  }
  .feature-icon {
    width: 50px;
    height: 50px;
  }
  .feature-item h3 {
    font-size: 1.1rem;
  }
  .feature-item p {
    font-size: 0.8rem;
  }
  .article-card h3 {
    font-size: 1rem;
  }
  .article-card p {
    font-size: 0.75rem;
  }
  .app-footer {
    padding: 1rem 0.5rem;
  }
}
</style>
